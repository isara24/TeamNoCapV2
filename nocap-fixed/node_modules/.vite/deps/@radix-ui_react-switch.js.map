{"version":3,"file":"@radix-ui_react-switch.js","names":[],"sources":["../../@radix-ui/react-use-previous/dist/index.mjs","../../@radix-ui/react-use-size/dist/index.mjs","../../@radix-ui/react-switch/dist/index.mjs"],"sourcesContent":["// packages/react/use-previous/src/use-previous.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/use-size/src/use-size.tsx\nimport * as React from \"react\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nfunction useSize(element) {\n  const [size, setSize] = React.useState(void 0);\n  useLayoutEffect(() => {\n    if (element) {\n      setSize({ width: element.offsetWidth, height: element.offsetHeight });\n      const resizeObserver = new ResizeObserver((entries) => {\n        if (!Array.isArray(entries)) {\n          return;\n        }\n        if (!entries.length) {\n          return;\n        }\n        const entry = entries[0];\n        let width;\n        let height;\n        if (\"borderBoxSize\" in entry) {\n          const borderSizeEntry = entry[\"borderBoxSize\"];\n          const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n          width = borderSize[\"inlineSize\"];\n          height = borderSize[\"blockSize\"];\n        } else {\n          width = element.offsetWidth;\n          height = element.offsetHeight;\n        }\n        setSize({ width, height });\n      });\n      resizeObserver.observe(element, { box: \"border-box\" });\n      return () => resizeObserver.unobserve(element);\n    } else {\n      setSize(void 0);\n    }\n  }, [element]);\n  return size;\n}\nexport {\n  useSize\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/switch.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar SWITCH_NAME = \"Switch\";\nvar [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\nvar [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);\nvar Switch = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME\n    });\n    return /* @__PURE__ */ jsxs(SwitchProvider, { scope: __scopeSwitch, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"switch\",\n          \"aria-checked\": checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...switchProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        SwitchBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nSwitch.displayName = SWITCH_NAME;\nvar THUMB_NAME = \"SwitchThumb\";\nvar SwitchThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...thumbProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSwitchThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"SwitchBubbleInput\";\nvar SwitchBubbleInput = React.forwardRef(\n  ({\n    __scopeSwitch,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Switch;\nvar Thumb = SwitchThumb;\nexport {\n  Root,\n  Switch,\n  SwitchThumb,\n  Thumb,\n  createSwitchScope\n};\n//# sourceMappingURL=index.mjs.map\n"],"mappings":"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"}